# Example nginx configuration to meet your requirements

# Server listening on port 8080
server {
    listen 8080;
    server_name localhost;

    # Custom error page for 404
    error_page 404 /custom_404.html;
    location = /custom_404.html {
        root /usr/share/nginx/html;
        internal;
    }

    # Limit client body size to 1k
    client_max_body_size 1k;

    # Route to different directory
    location /example/ {
        root /var/www;
        index index.html;
    }

    # Default file when asking for a directory
    location / {
        root /usr/share/nginx/html;
        index index.html;
    }

    # Setup a list of methods accepted for a certain route
    location /test/ {
        limit_except GET {
            allow 127.0.0.1;
            deny all;
        }
    }
}

# Server with different hostname and port
server {
    listen 8081;
    server_name example.com;

    # Assuming you have setup DNS or /etc/hosts for example.com -> 127.0.0.1
}
